{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/loockeeer/Documents/Codage/labos-site/src/components/TutorialList.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Tutorial from './Tutorial.js';\nimport fetch from 'isomorphic-unfetch';\n\nvar TutorialList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TutorialList, _React$Component);\n\n  function TutorialList(props) {\n    var _this;\n\n    _classCallCheck(this, TutorialList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TutorialList).call(this, props));\n    _this.state = {\n      tutorials: [],\n      from: 0\n    };\n    _this.updateList = _this.updateList.bind(_assertThisInitialized(_this));\n\n    _this.updateList();\n\n    return _this;\n  }\n\n  _createClass(TutorialList, [{\n    key: \"updateList\",\n    value: function updateList() {\n      var _this2 = this;\n\n      fetch(\"http://localhost:8081/tutorials?from=\".concat(this.state.from, \"&to=\").concat(this.state.from + Number(this.props.step))).then(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(r) {\n          var data;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(r.status !== 401)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return r.json();\n\n                case 3:\n                  data = _context.sent;\n\n                  _this2.setState(function () {\n                    return {\n                      tutorials: [].concat(_toConsumableArray(_this2.state.tutorials), _toConsumableArray(data)),\n                      from: Number(_this2.state.from) + Number(_this2.props.step)\n                    };\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props[\"do-auto-add\"]) {\n        this.btn;\n      } else {\n        this.btn = __jsx(\"button\", {\n          onClick: this.updateList,\n          className: \"ui button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, \"Charger plus\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"ui link cards centered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, this.state.tutorials.map(function (tutorial) {\n        return __jsx(Tutorial, {\n          author: tutorial.author,\n          likeCount: tutorial.likeCount,\n          name: tutorial.name,\n          description: tutorial.description,\n          commentCount: tutorial.commentCount,\n          imageURL: tutorial.imageURL,\n          avatarURL: tutorial.avatarURL,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        });\n      })), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"ui center aligned container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, this.btn));\n    }\n  }]);\n\n  return TutorialList;\n}(React.Component);\n\nexport { TutorialList as default };","map":{"version":3,"sources":["/home/loockeeer/Documents/Codage/labos-site/src/components/TutorialList.js"],"names":["React","Tutorial","fetch","TutorialList","props","state","tutorials","from","updateList","bind","Number","step","then","r","status","json","data","setState","btn","map","tutorial","author","likeCount","name","description","commentCount","imageURL","avatarURL","Component"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;IACqBC,Y;;;;;AACjB,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,sFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,EADF;AAETC,MAAAA,IAAI,EAAE;AAFG,KAAb;AAIA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB;;AACA,UAAKD,UAAL;;AAPe;AAQlB;;;;iCACY;AAAA;;AACTN,MAAAA,KAAK,gDAAyC,KAAKG,KAAL,CAAWE,IAApD,iBAA+D,KAAKF,KAAL,CAAWE,IAAX,GAAkBG,MAAM,CAAC,KAAKN,KAAL,CAAWO,IAAZ,CAAvF,EAAL,CACKC,IADL;AAAA;AAAA;AAAA;AAAA;AAAA,iCACU,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACEA,CAAC,CAACC,MAAF,KAAa,GADf;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAEqBD,CAAC,CAACE,IAAF,EAFrB;;AAAA;AAEQC,kBAAAA,IAFR;;AAGE,kBAAA,MAAI,CAACC,QAAL,CAAc,YAAM;AAChB,2BAAO;AAACX,sBAAAA,SAAS,+BAAM,MAAI,CAACD,KAAL,CAAWC,SAAjB,sBAA+BU,IAA/B,EAAV;AAAgDT,sBAAAA,IAAI,EAAEG,MAAM,CAAC,MAAI,CAACL,KAAL,CAAWE,IAAZ,CAAN,GAA0BG,MAAM,CAAC,MAAI,CAACN,KAAL,CAAWO,IAAZ;AAAtF,qBAAP;AACH,mBAFD;;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADV;;AAAA;AAAA;AAAA;AAAA;AASH;;;wCACmB;AAChB,UAAG,CAAC,KAAKP,KAAL,CAAW,aAAX,CAAJ,EAA+B;AAC3B,aAAKc,GAAL;AACH,OAFD,MAEO;AACH,aAAKA,GAAL,GAAW;AAAQ,UAAA,OAAO,EAAE,KAAKV,UAAtB;AAAkC,UAAA,SAAS,EAAC,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAX;AACH;AACJ;;;6BAEQ;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKH,KAAL,CAAWC,SAAX,CAAqBa,GAArB,CAAyB,UAAAC,QAAQ,EAAG;AAC7B,eAAO,MAAC,QAAD;AAAU,UAAA,MAAM,EAAEA,QAAQ,CAACC,MAA3B;AAAmC,UAAA,SAAS,EAAED,QAAQ,CAACE,SAAvD;AAAkE,UAAA,IAAI,EAAEF,QAAQ,CAACG,IAAjF;AAAuF,UAAA,WAAW,EAAEH,QAAQ,CAACI,WAA7G;AAA0H,UAAA,YAAY,EAAEJ,QAAQ,CAACK,YAAjJ;AAA+J,UAAA,QAAQ,EAAEL,QAAQ,CAACM,QAAlL;AAA4L,UAAA,SAAS,EAAEN,QAAQ,CAACO,SAAhN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,OAFJ,CADL,CADJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPJ,EAOa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPb,EAQI;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,KAAKT,GAFT,CARJ,CADJ;AAgBH;;;;EA9CqClB,KAAK,CAAC4B,S;;SAA3BzB,Y","sourcesContent":["import React from 'react';\nimport Tutorial from './Tutorial.js'\nimport fetch from 'isomorphic-unfetch'\nexport default class TutorialList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tutorials: [],\n            from: 0\n        };\n        this.updateList = this.updateList.bind(this);\n        this.updateList()\n    }\n    updateList() {\n        fetch(`http://localhost:8081/tutorials?from=${this.state.from}&to=${this.state.from + Number(this.props.step)}`)\n            .then(async r => {\n                if (r.status !== 401) {\n                    const data = await r.json();\n                    this.setState(() => {\n                        return {tutorials: [...this.state.tutorials, ...data], from: Number(this.state.from) + Number(this.props.step)}\n                    });\n                }\n            })\n    }\n    componentDidMount() {\n        if(!this.props[\"do-auto-add\"]) {\n            this.btn;\n        } else {\n            this.btn = <button onClick={this.updateList} className=\"ui button\">Charger plus</button>\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"ui link cards centered\">\n                    {this.state.tutorials.map(tutorial =>{\n                            return <Tutorial author={tutorial.author} likeCount={tutorial.likeCount} name={tutorial.name} description={tutorial.description} commentCount={tutorial.commentCount} imageURL={tutorial.imageURL} avatarURL={tutorial.avatarURL}></Tutorial>\n                        })\n                    }\n                </div>\n                <br></br><br></br>\n                <div className=\"ui center aligned container\">\n                {\n                    this.btn\n                }\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}